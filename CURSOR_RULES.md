# CURSOR RULES - 开发规范指南

## 1. 开发流程规则

### 1.1 开发前检查
- 每次开始新任务前，必须查看本文档以明确开发规范
- 检查当前的分支和工作目录，确保在正确的环境中工作
- 回顾已完成任务和当前进度，避免重复工作

### 1.2 任务管理
- 所有任务必须在开始前明确定义，包括目标、输入和期望输出
- 复杂任务应拆分为更小的子任务，逐步实现
- 任务应按优先级顺序执行，先完成核心功能

### 1.3 进度跟踪
- 每个关键开发节点都要记录在 PROGRESS.md 中
- 已完成的任务必须标记为完成，并有简要描述
- 遇到的问题和解决方案应记录在 ISSUES.md 中

## 2. 代码规范

### 2.1 通用规范
- 所有代码必须遵循相应语言的官方风格指南
- 代码必须包含适当的注释，特别是关键算法和复杂逻辑
- 函数和变量命名必须清晰表达其用途和含义

### 2.2 C++ 规范
- 遵循 Google C++ 风格指南
- 使用 CMake 管理构建过程
- 头文件必须使用 include guards 或 pragma once

### 2.3 JavaScript/TypeScript 规范
- 使用 ESLint 和 Prettier 确保代码格式一致性
- React 组件应使用函数式组件和 Hooks
- 异步操作应使用 async/await 语法

## 3. 项目结构规则

### 3.1 目录组织
- 严格遵循 README.md 中定义的项目结构
- 每个子包应有自己的 package.json 和相关配置文件
- 共享代码应放在适当的位置，避免重复

### 3.2 模块化原则
- 每个模块应有明确的职责和边界
- 模块间的依赖关系应清晰且最小化
- 核心算法应与 UI 逻辑完全分离

## 4. 开发阶段规定

### 4.1 初始化阶段
- 完成项目结构搭建
- 设置基本的构建和测试流程
- 创建必要的配置文件

### 4.2 核心算法阶段
- 实现并测试 Mode A, B, C 的算法
- 创建 WebAssembly 绑定
- 编写算法文档

### 4.3 UI 开发阶段
- 实现桌面和移动应用的基本框架
- 开发用户界面组件
- 集成 Wasm 模块

### 4.4 测试和优化阶段
- 编写单元测试和集成测试
- 进行性能优化
- 修复已发现的 bug

## 5. 防止循环的检查点

每次开发前必须自问：
1. 我是否明确当前任务的目标？
2. 这项任务是否已经完成或正在进行中？
3. 我是否在最有效的层级解决问题？
4. 当前任务是否对整体进度有实质性推进？
5. 是否有更优先的任务需要先完成？

## 6. 版本控制规则

### 6.1 分支策略
- `main` 分支应保持稳定，随时可发布
- 开发工作在 `develop` 分支进行
- 特性开发使用 `feature/` 前缀的分支

### 6.2 提交规范
- 提交消息格式：`[模块] 动作: 详细描述`
- 每个提交应专注于单一变更
- 禁止提交生成的文件或二进制文件

## 7. 文档规则

### 7.1 代码文档
- 每个公共 API 必须有文档注释
- 复杂算法必须有伪代码或流程说明
- 所有配置选项必须有说明

### 7.2 用户文档
- 必须包含安装和使用说明
- 应提供常见问题解答
- 包含所有功能的示例

---

**注意**：本文档应随项目发展不断更新完善。 